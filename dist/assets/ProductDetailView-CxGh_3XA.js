import{_ as R,u as S,o as T,c as i,a as s,i as h,w as g,t as o,F as b,r as k,g as c,h as u,n as y,j as V,b as d,k as x,d as q,l as B,m as A,e as l}from"./index-2xmsqn-t.js";import{a as D}from"./api-BuOu7ldB.js";const z={class:"product-detail-view"},E={class:"page-header"},L={class:"container"},M={key:0,class:"loading-section"},W={key:1,class:"error-section"},$={class:"container"},O={class:"error-message"},U={key:2,class:"product-content"},G={class:"container"},H={class:"product-layout"},X={class:"product-gallery"},J={class:"main-image"},K={class:"image-container"},Q={class:"product-image"},Y={class:"icon-product-image"},Z={class:"product-overlay-text"},ss={class:"image-thumbnails"},es=["onClick"],as={class:"thumbnail-placeholder"},ts={class:"product-details"},os={class:"product-header"},is={key:0,class:"product-badges"},ls={class:"product-title"},ns={class:"product-reference"},cs={class:"product-category"},rs={class:"price-section"},us={class:"price-info"},ds={class:"current-price"},ps={key:0,class:"out-of-stock"},vs={key:1,class:"low-stock"},_s={class:"purchase-actions"},ms=["disabled"],fs=["href"],hs={class:"product-description"},gs={class:"product-specs"},bs={class:"specs-grid"},ks={key:0,class:"spec-item"},ys={class:"spec-value"},xs={key:1,class:"spec-item"},Cs={class:"spec-value"},ws={key:2,class:"spec-item"},Ps={class:"spec-value"},Is={__name:"ProductDetailView",setup(js){const C=A(),w=S(),a=d(null),m=d(!0),r=d(""),f=d(1),p=d(!1),P=x(()=>C.params.id),v=x(()=>a.value&&a.value.stock>0),I=()=>{if(a.value&&v.value){w.addToCart(a.value,1);const t=document.createElement("div");t.className="cart-notification",t.innerHTML=`
      <i class="fas fa-check-circle"></i>
      <span>Produit ajouté au panier!</span>
    `,t.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--color-gold);
      color: var(--color-black);
      padding: 15px 20px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 9999;
      animation: slideIn 0.3s ease-out;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideOut 0.3s ease-out",setTimeout(()=>{document.body.removeChild(t)},300)},3e3)}},j=()=>{p.value=!p.value},F=(t,e)=>typeof t!="number"?"":new Intl.NumberFormat("fr-FR",{style:"currency",currency:e||"XOF"}).format(t),N=t=>{const e=t?.name||"",_=t?.reference||"",n=`Bonjour, je souhaite finaliser une commande pour le bijou "${e}" (réf. ${_}) chez SadiB.`;return B(n)};return T(async()=>{try{m.value=!0,r.value="";const t=await D(P.value);t?a.value=t:r.value="Ce produit n'existe pas ou n'est plus disponible."}catch(t){r.value=t?.message||"Impossible de charger le produit."}finally{m.value=!1}}),(t,e)=>{const _=q("router-link");return l(),i("div",z,[s("section",E,[s("div",L,[h(_,{to:"/boutique",class:"back-link"},{default:g(()=>[...e[0]||(e[0]=[s("i",{class:"fas fa-arrow-left"},null,-1),u(" Retour à la boutique ",-1)])]),_:1})])]),m.value?(l(),i("section",M,[...e[1]||(e[1]=[s("div",{class:"container"},[s("div",{class:"luxury-loader"},[s("i",{class:"fas fa-gem gold-shimmer"}),s("p",null,"Chargement du produit...")])],-1)])])):r.value?(l(),i("section",W,[s("div",$,[s("div",O,[e[3]||(e[3]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),e[4]||(e[4]=s("h3",null,"Produit non trouvé",-1)),s("p",null,o(r.value),1),h(_,{to:"/boutique",class:"btn-gold"},{default:g(()=>[...e[2]||(e[2]=[u(" Retour à la boutique ",-1)])]),_:1})])])])):a.value?(l(),i("section",U,[s("div",G,[s("div",H,[s("div",X,[s("div",J,[s("div",K,[s("div",Q,[s("div",Y,[e[5]||(e[5]=s("i",{class:"fas fa-gem"},null,-1)),s("div",Z,o(a.value.name),1)])])])]),s("div",ss,[(l(),i(b,null,k(3,n=>s("div",{key:n,class:y(["thumbnail",{active:f.value===n}]),onClick:Fs=>f.value=n},[s("div",as,[e[6]||(e[6]=s("i",{class:"fas fa-gem"},null,-1)),s("span",null,o(n),1)])],10,es)),64))])]),s("div",ts,[s("div",os,[a.value.badges&&a.value.badges.length?(l(),i("div",is,[(l(!0),i(b,null,k(a.value.badges,n=>(l(),i("span",{key:n,class:"badge"},o(n),1))),128))])):c("",!0),s("h1",ls,o(a.value.name),1),s("p",ns,"Référence: "+o(a.value.reference),1),s("p",cs,o(a.value.category),1)]),s("div",rs,[s("div",us,[s("span",ds,o(F(a.value.price,a.value.currency)),1),v.value?a.value.stock<=3?(l(),i("span",vs,"Plus que "+o(a.value.stock)+" disponibles",1)):c("",!0):(l(),i("span",ps,"Rupture de stock"))])]),s("div",_s,[s("button",{class:"btn btn-gold btn-large",onClick:I,disabled:!v.value},[e[7]||(e[7]=s("i",{class:"fas fa-shopping-cart"},null,-1)),u(" "+o(v.value?"Ajouter au panier":"Indisponible"),1)],8,ms),s("a",{href:N(a.value),target:"_blank",class:"btn btn-outline btn-large"},[...e[8]||(e[8]=[s("i",{class:"fab fa-whatsapp"},null,-1),u(" Commander sur WhatsApp ",-1)])],8,fs),s("button",{class:"btn-favorite",onClick:j},[s("i",{class:y(p.value?"fas fa-heart":"far fa-heart")},null,2),u(" "+o(p.value?"Retirer des favoris":"Ajouter aux favoris"),1)])]),s("div",hs,[e[9]||(e[9]=s("h3",null,"Description",-1)),s("p",null,o(a.value.description),1)]),s("div",gs,[e[13]||(e[13]=s("h3",null,"Caractéristiques",-1)),s("div",bs,[a.value.materials?(l(),i("div",ks,[e[10]||(e[10]=s("span",{class:"spec-label"},"Matériaux:",-1)),s("span",ys,o(a.value.materials.join(", ")),1)])):c("",!0),a.value.dimensions?(l(),i("div",xs,[e[11]||(e[11]=s("span",{class:"spec-label"},"Dimensions:",-1)),s("span",Cs,o(a.value.dimensions),1)])):c("",!0),a.value.weight?(l(),i("div",ws,[e[12]||(e[12]=s("span",{class:"spec-label"},"Poids:",-1)),s("span",Ps,o(a.value.weight),1)])):c("",!0)])]),e[14]||(e[14]=V('<div class="product-features" data-v-0215a857><h3 data-v-0215a857>Services inclus</h3><ul data-v-0215a857><li data-v-0215a857><i class="fas fa-check" data-v-0215a857></i> Certificat d&#39;authenticité</li><li data-v-0215a857><i class="fas fa-check" data-v-0215a857></i> Livraison sécurisée</li><li data-v-0215a857><i class="fas fa-check" data-v-0215a857></i> Garantie 2 ans</li><li data-v-0215a857><i class="fas fa-check" data-v-0215a857></i> Emballage premium</li></ul></div>',1))])])])])):c("",!0)])}}},Ss=R(Is,[["__scopeId","data-v-0215a857"]]);export{Ss as default};
